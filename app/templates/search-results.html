{% from "bootstrap/form.html" import render_form, render_field, render_form_row %}

<form class="add-form mt-4">
    {{ form.csrf_token }}

    <label class="form-control-label" for="ipa">IPA</label>
    <div class="form-group d-flex">
        <input class="form-control w-25" id="ipa" name="ipa" type="text" value="/ʃjɛ̃/">
        <button type="button" class="btn btn-info btn-audio mb-2 {% if not audio_filename %}disabled{% endif %}" onclick="playSound(this)" data-audio="{{ audio_filename }}">Play Pronunciation</button>
    </div>

    {{ render_field(form.word_usage) }}

    <label class="form-control-label" for="image_query">{{ form.image_query.label }}</label>
    <div class="d-flex">
        <input type="text" class="form-control w-25" id="image_query" name="image_query" value="{{ form.image_query.data }}">
        <button class="btn btn-outline-success ml-2" type="button" onclick="searchImages()">
            Search Images
            <span class="spinner-border spinner-border-sm image-search-spinner d-none" role="status" aria-hidden="true"></span>
        </button>
    </div>

    <p class="text-muted my-2">Click on the images below to select them.<br>
        You can also paste from your clipboard and drag images files into the right pane.<br>
        Click on any selected images to remove them.
    </p>

    <div class="row img-search-pane">
        <div class="col">
            <div class="gallery border border-dark rounded p-2">
                <div class="spinner-border" role="status">
                    <span class="sr-only">Getting images...</span>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="rounded gallery-selected p-2">
                <p class="text-muted">Images to Use</p>
            </div>
        </div>
    </div>

    {{ render_field(form.notes) }}
    {{ render_field(form.test_spelling) }}
    <button class="btn btn-primary" id="add-submit" name="add-submit" type="button" value="Add to Anki" onclick="add()">
       Add to Anki
        <span class="spinner-border spinner-border-sm add-spinner d-none" role="status" aria-hidden="true"></span>
</form>
